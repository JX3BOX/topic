{"version":3,"sources":["webpack:///./src/service/topic.js","webpack:///./src/assets/img/jb2.png","webpack:///./src/pages/2023yaoxiu/Index.vue?23f5","webpack:///./src/pages/2023yaoxiu/Index.vue","webpack:///src/pages/2023yaoxiu/Index.vue","webpack:///./src/pages/2023yaoxiu/Index.vue?b8f3","webpack:///./src/pages/2023yaoxiu/Index.vue?ebef"],"names":["getTopic","topic","$cms","mute","get","params","type","all","status","getToken","$team","getAllMyRoles","getHonorApi","eventName","post","concat","module","exports","render","_vm","this","_c","_self","staticClass","_m","attrs","userInfo","uid","avatar_origin","_v","_s","name","isLogin","on","getHonorShow","_e","showDialog","$event","directives","rawName","value","loading","expression","step","bindRole","getHonor","token","arg","onCopy","onError","model","role","callback","$$v","_l","roles","item","key","ID","server","staticStyle","honorSubmit","staticRenderFns","require","props","components","data","User","getInfo","animate","inserted","el","binding","addClass","_el$getBoundingClient","getBoundingClientRect","top","h","document","documentElement","clientHeight","body","className","indexOf","window","removeEventListener","addEventListener","unbind","computed","watch","methods","init","_this","then","res","_res$data$data$list","list","filter","body_type","mount","custom","_this2","finally","val","$notify","title","message","text","error","hanldMask","event","x","clientX","y","clientY","$refs","mark","style","backgroundPositionX","backgroundPositionY","_this3","$confirm","confirmButtonText","cancelButtonText","open","catch","filters","created","mounted","component"],"mappings":"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","file":"js/chunk-5784f86d.ad51b660.js","sourcesContent":["import { $cms, $team } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getTopic(topic) {\n    return $cms({ mute: true }).get(\"/api/cms/topic\", {\n        params: {\n            type: topic,\n            all: 1,\n            status: 1,\n        },\n    });\n}\n\nfunction getFbRank(id, server = \"\") {\n    return $team({ mute: true }).get(`/api/team/race/achieve/${id}/top100?server=${server}&event_id=1`);\n}\nfunction getToken() {\n    return $team().get(\"/api/team/role-bind-token\");\n}\nfunction getRoles(params) {\n    return $team().get(\"/api/team/my-game-roles\", {\n        params: params,\n    });\n}\n\nfunction getAllMyRoles() {\n    return $team().get(`/api/team/my-game-roles?nopage`);\n}\nfunction getHonorApi(eventName, params) {\n    // 0 正确 非0 错误\n    return $team().post(`/api/team/website/events/${eventName}/collect-rewards`, params);\n}\nexport { getTopic, getFbRank, getToken, getHonorApi, getRoles, getAllMyRoles };\n","module.exports = __webpack_public_path__ + \"img/jb2.d07ed785.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=style&index=0&id=05576756&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-index\"},[_vm._m(0),_c('div',{staticClass:\"m-logo\"},[_c('div',{staticClass:\"u-box\"},[_vm._m(1),_c('div',{staticClass:\"u-info\"},[_c('div',{staticClass:\"u-avatar-box\"},[_c('Avatar',{staticClass:\"u-avatar\",attrs:{\"uid\":_vm.userInfo.uid,\"url\":_vm.userInfo.avatar_origin}}),_c('div',{staticClass:\"u-name\"},[_vm._v(_vm._s(_vm.userInfo.name || \"未知\"))])],1),(_vm.isLogin)?_c('div',{staticClass:\"u-btn\",on:{\"click\":_vm.getHonorShow}},[_vm._v(\"绑定角色领取称号\")]):_vm._e()])])]),_c('el-dialog',{attrs:{\"visible\":_vm.showDialog,\"custom-class\":\"m-dialog\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.showDialog=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-dialog-box\"},[_c('div',{staticClass:\"m-dialog-close\",attrs:{\"title\":\"取消\"},on:{\"click\":function($event){_vm.showDialog = false}}},[_c('i',{staticClass:\"el-icon-close\"})]),_c('div',{staticClass:\"m-dialog-content\"},[(_vm.step == 1)?_c('div',{staticClass:\"u-common u-step1\"},[_c('Avatar',{staticClass:\"u-avatar\",attrs:{\"uid\":_vm.userInfo.uid,\"url\":_vm.userInfo.avatar_origin}}),_c('div',{staticClass:\"u-desc\"},[_vm._v(\"绑定任意一个服务器的【正太七秀】角色即可领取限定称号。\")]),_c('div',{staticClass:\"u-btn-box\"},[_c('div',{staticClass:\"u-btn\",on:{\"click\":_vm.bindRole}},[_vm._v(\"绑定角色\")]),_c('div',{staticClass:\"u-btn\",on:{\"click\":_vm.getHonor}},[_vm._v(\"领取称号\")])])],1):_vm._e(),(_vm.step == 2)?_c('div',{staticClass:\"u-common u-step2\"},[_c('div',{staticClass:\"u-title\"},[_vm._v(\"绑定令牌\")]),_c('div',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.token),expression:\"token\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.onCopy),expression:\"onCopy\",arg:\"success\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:(_vm.onError),expression:\"onError\",arg:\"error\"}],staticClass:\"u-frame\",attrs:{\"title\":\"点击复制\"}},[_c('i',{staticClass:\"el-icon-document-copy\"}),_vm._v(\" \"+_vm._s(_vm.token)+\" \")]),_c('div',{staticClass:\"u-tips\"},[_vm._v(\" ( 令牌10分钟内有效，超时请 \"),_c('el-button',{staticClass:\"u-refresh\",attrs:{\"type\":\"text\",\"title\":\"刷新\"},on:{\"click\":_vm.getToken}},[_vm._v(\"点击此处\")]),_vm._v(\" 刷新 ) \")],1),_c('div',{staticClass:\"u-plug\"},[_vm._v(\" 打开【茗伊插件集】-【团队】-【团队平台】\"),_c('br'),_vm._v(\" 在【角色认证】行，点击按钮【点击绑定】并【填入上方密钥】 \")]),_c('div',{staticClass:\"u-btn-box\"},[_c('div',{staticClass:\"u-btn\",on:{\"click\":function($event){_vm.step--}}},[_vm._v(\"上一步\")]),_c('div',{staticClass:\"u-btn\",on:{\"click\":_vm.getHonor}},[_vm._v(\"我已绑定，领取称号\")])])]):_vm._e(),(_vm.step == 3)?_c('div',{staticClass:\"u-common u-step3\"},[_c('div',{staticClass:\"u-title\"},[_vm._v(\"领取称号\")]),_c('div',{staticClass:\"u-role\"},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"popper-class\":\"u-role-select\"},model:{value:(_vm.role),callback:function ($$v) {_vm.role=$$v},expression:\"role\"}},_vm._l((_vm.roles),function(item){return _c('el-option',{key:item.ID,attrs:{\"label\":item.name,\"value\":item.server}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(item.name))]),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8492a6\",\"font-size\":\"13px\"}},[_vm._v(_vm._s(item.server))])])}),1)],1),_c('div',{staticClass:\"u-btn-box\"},[_c('div',{staticClass:\"u-btn\",on:{\"click\":_vm.honorSubmit}},[_vm._v(\"领取称号\")])])]):_vm._e()])])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{staticClass:\"m-jb\",attrs:{\"target\":\"_blank\",\"href\":\"/\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/jb2.png\"),\"alt\":\"魔盒\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"u-video\"},[_c('iframe',{attrs:{\"src\":\"//player.bilibili.com/player.html?aid=865435138&bvid=BV1n54y1u7bu&cid=1037931815&page=1\",\"scrolling\":\"no\",\"border\":\"0\",\"frameborder\":\"no\",\"framespacing\":\"0\",\"allowfullscreen\":\"true\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-index\">\n        <a class=\"m-jb\" target=\"_blank\" href=\"/\">\n            <img src=\"@/assets/img/jb2.png\" alt=\"魔盒\">\n        </a>\n        <div class=\"m-logo\">\n            <div class=\"u-box\">\n                <!-- <div class=\"u-txtr p-animation\" v-animate=\"'fadeInRight'\"></div> -->\n                <div class=\"u-video\">\n                    <!-- <iframe\n                        src=\"//www.bilibili.com/video/BV1n54y1u7bu/?vd_source=01c3106a06b3cb3f34cfd07de3204752\"\n                        scrolling=\"no\"\n                        border=\"0\"\n                        frameborder=\"no\"\n                        framespacing=\"0\"\n                        allowfullscreen=\"true\"\n                    >\n                    </iframe> -->\n                    <iframe\n                        src=\"//player.bilibili.com/player.html?aid=865435138&bvid=BV1n54y1u7bu&cid=1037931815&page=1\"\n                        scrolling=\"no\"\n                        border=\"0\"\n                        frameborder=\"no\"\n                        framespacing=\"0\"\n                        allowfullscreen=\"true\"\n                    >\n                    </iframe>\n                </div>\n                <div class=\"u-info\">\n                    <div class=\"u-avatar-box\">\n                        <Avatar :uid=\"userInfo.uid\" :url=\"userInfo.avatar_origin\" class=\"u-avatar\" />\n                        <div class=\"u-name\">{{ userInfo.name || \"未知\" }}</div>\n                    </div>\n                    <div class=\"u-btn\" @click=\"getHonorShow\" v-if=\"isLogin\">绑定角色领取称号</div>\n                </div>\n            </div>\n        </div>\n\n        <!-- 弹出层界面 -->\n        <el-dialog\n            :visible.sync=\"showDialog\"\n            custom-class=\"m-dialog\"\n            :close-on-click-modal=\"false\"\n            :close-on-press-escape=\"false\"\n            :show-close=\"false\"\n            destroy-on-close\n        >\n            <div class=\"m-dialog-box\" v-loading=\"loading\">\n                <div class=\"m-dialog-close\" @click=\"showDialog = false\" title=\"取消\"><i class=\"el-icon-close\"></i></div>\n                <div class=\"m-dialog-content\">\n                    <div class=\"u-common u-step1\" v-if=\"step == 1\">\n                        <Avatar :uid=\"userInfo.uid\" :url=\"userInfo.avatar_origin\" class=\"u-avatar\" />\n                        <!-- <div class=\"u-name\">{{ userInfo.name || \"未知\" }}，你当前还没有领取过称号哦</div> -->\n                        <div class=\"u-desc\">绑定任意一个服务器的【正太七秀】角色即可领取限定称号。</div>\n                        <div class=\"u-btn-box\">\n                            <div class=\"u-btn\" @click=\"bindRole\">绑定角色</div>\n                            <div class=\"u-btn\" @click=\"getHonor\">领取称号</div>\n                        </div>\n                    </div>\n                    <div class=\"u-common u-step2\" v-if=\"step == 2\">\n                        <div class=\"u-title\">绑定令牌</div>\n                        <div\n                            class=\"u-frame\"\n                            title=\"点击复制\"\n                            v-clipboard:copy=\"token\"\n                            v-clipboard:success=\"onCopy\"\n                            v-clipboard:error=\"onError\"\n                        >\n                            <i class=\"el-icon-document-copy\"></i>\n                            {{ token }}\n                        </div>\n                        <div class=\"u-tips\">\n                            ( 令牌10分钟内有效，超时请\n                            <el-button type=\"text\" class=\"u-refresh\" title=\"刷新\" @click=\"getToken\">点击此处</el-button>\n                            刷新 )\n                        </div>\n                        <div class=\"u-plug\">\n                            打开【茗伊插件集】-【团队】-【团队平台】<br />\n                            在【角色认证】行，点击按钮【点击绑定】并【填入上方密钥】\n                        </div>\n                        <div class=\"u-btn-box\">\n                            <div class=\"u-btn\" @click=\"step--\">上一步</div>\n                            <div class=\"u-btn\" @click=\"getHonor\">我已绑定，领取称号</div>\n                        </div>\n                    </div>\n                    <div class=\"u-common u-step3\" v-if=\"step == 3\">\n                        <div class=\"u-title\">领取称号</div>\n                        <div class=\"u-role\">\n                            <el-select v-model=\"role\" placeholder=\"请选择\" popper-class=\"u-role-select\">\n                                <el-option v-for=\"item in roles\" :key=\"item.ID\" :label=\"item.name\" :value=\"item.server\">\n                                    <span style=\"float: left\">{{ item.name }}</span>\n                                    <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.server }}</span>\n                                </el-option>\n                            </el-select>\n                        </div>\n                        <!-- <div class=\"u-tips\">\n                            <span>你的称号为：</span>\n                            <div class=\"u-honor\">服务器名字+第+顺位+位秀爷</div>\n                        </div> -->\n                        <div class=\"u-btn-box\">\n                            <div class=\"u-btn\" @click=\"honorSubmit\">领取称号</div>\n                        </div>\n                    </div>\n                    <!-- <div class=\"u-common u-step4\" v-if=\"step == 4\">\n                        <Avatar :uid=\"userInfo.uid\" :url=\"userInfo.avatar_origin\" class=\"u-avatar\" />\n                        <div class=\"u-tips\">\n                            <span>飞龙在天服第五千四百六十位秀爷</span><br />\n                            <span>你已经领取过称号啦！</span>\n                        </div>\n                    </div> -->\n                </div>\n            </div>\n        </el-dialog>\n        <!-- 全屏叶子 -->\n        <!-- <div class=\"m-leaf\" ref=\"mark\"></div> -->\n    </div>\n</template>\n\n<script>\n// TODO: 修改KEY\nconst KEY = \"yaoxiujie\";\nimport { getToken, getHonorApi, getAllMyRoles } from \"@/service/topic\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nexport default {\n    name: \"Index\",\n    props: [],\n    components: {},\n    data: function () {\n        return {\n            // video: `<iframe src=\"//www.bilibili.com/video/BV1n54y1u7bu/?vd_source=01c3106a06b3cb3f34cfd07de3204752\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"> </iframe>`,\n            userInfo: User.getInfo(),\n            showDialog: false,\n            step: 1,\n            loading: false,\n            token: \"\",\n            roles: [],\n            role: \"\",\n            isLogin: User.isLogin(),\n        };\n    },\n    directives: {\n        animate: {\n            inserted: function (el, binding) {\n                binding.addClass = () => {\n                    const { top } = el.getBoundingClientRect();\n                    const h = document.documentElement.clientHeight || document.body.clientHeight;\n                    if (top < h) {\n                        if (el.className.indexOf(binding.value) == -1) {\n                            // 初次还未绑定过，则新增类名(注意：下面单引号中间是一个空格！！！)\n                            el.className = binding.value + \" \" + el.className;\n                        }\n                        if (binding.addClass) {\n                            window.removeEventListener(\"scroll\", binding.addClass);\n                        }\n                    }\n                };\n                window.addEventListener(\"scroll\", binding.addClass, true);\n                binding.addClass();\n            },\n            unbind: function (el, binding) {\n                if (binding.addClass) {\n                    window.removeEventListener(\"scroll\", binding.addClass);\n                }\n            },\n        },\n    },\n    computed: {},\n    watch: {},\n    methods: {\n        init: function () {\n            getAllMyRoles().then((res) => {\n                this.roles =\n                    res.data.data.list?.filter((item) => {\n                        return (item.body_type == 5) && (item.mount == 4) && item.custom == 0;\n                    }) || [];\n            });\n        },\n        getToken() {\n            this.loading = true;\n            getToken()\n                .then((res) => {\n                    this.token = res.data.data.token;\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        onCopy: function (val) {\n            this.$notify({\n                title: \"复制成功\",\n                message: val.text,\n                type: \"success\",\n            });\n        },\n        onError: function () {\n            this.$notify.error({\n                title: \"复制失败\",\n                message: \"请手动复制\",\n            });\n        },\n        hanldMask(event) {\n            let x = -event.clientX / 150;\n            let y = -event.clientY / 150;\n            if (this.$refs.mark) {\n                this.$refs.mark.style.backgroundPositionX = x + \"px\";\n                this.$refs.mark.style.backgroundPositionY = y + \"px\";\n            }\n        },\n        //绑定角色领取\n        getHonorShow() {\n            this.step = 1;\n            this.showDialog = true;\n        },\n        //绑定角色\n        bindRole() {\n            this.step = 2;\n            this.getToken();\n        },\n        //领取称号\n        getHonor() {\n            this.step = 3;\n        },\n        //选择角色后确认\n        honorSubmit() {\n            getHonorApi(\"2023yaoxiu\", { server: this.role }).then((res) => {\n                this.$confirm(\"领取成功，是否前往装扮?\", \"提示\", {\n                    confirmButtonText: \"确定\",\n                    cancelButtonText: \"取消\",\n                    type: \"warning\",\n                })\n                    .then(() => {\n                        this.showDialog = false;\n                        window.open(\"/dashboard/honor\", \"_blank\");\n                    })\n                    .catch(() => {\n                        this.showDialog = false;\n                    });\n            });\n        },\n    },\n    filters: {},\n    created: function () {},\n    mounted: function () {\n        this.init();\n        // console.log(this.userInfo);\n        window.addEventListener(\"mousemove\", this.hanldMask);\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/css/yaoxiujie/index.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=05576756&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=05576756&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}