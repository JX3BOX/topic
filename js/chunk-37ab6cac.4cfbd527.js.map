{"version":3,"sources":["webpack:///./src/service/topic.js","webpack:///./src/pages/anshizhiluan/top.mp4","webpack:///./src/pages/anshizhiluan/Index.vue","webpack:///src/pages/anshizhiluan/Index.vue","webpack:///./src/pages/anshizhiluan/Index.vue?989d","webpack:///./src/pages/anshizhiluan/Index.vue?7d8f","webpack:///./src/pages/anshizhiluan/Index.vue?0ac1"],"names":["getTopic","topic","$cms","mute","get","params","type","all","status","module","exports","render","_vm","this","_c","_self","staticClass","attrs","pic","top","domProps","require","logo","introduction","title","_l","fb","item","index","key","id","class","concat","link","txt","slider","img","data","sect","play","info","staticRenderFns","KEY","name","raw","directives","animate","inserted","el","binding","addClass","_el$getBoundingClient","getBoundingClientRect","h","document","documentElement","clientHeight","body","className","indexOf","value","window","removeEventListener","addEventListener","unbind","computed","val","_data","forEach","subtype","push","methods","init","_this","then","res","changePic","console","log","arr","obj","keyBy","mounted","component"],"mappings":"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","file":"js/chunk-37ab6cac.4cfbd527.js","sourcesContent":["import { $cms, $team } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getTopic(topic) {\n    return $cms({ mute: true }).get(\"/api/cms/topic\", {\n        params: {\n            type: topic,\n            all: 1,\n            status: 1,\n        },\n    });\n}\n\nfunction getFbRank(id, server = \"\") {\n    return $team({ mute: true }).get(`/api/team/race/achieve/${id}/top100?server=${server}&event_id=1`);\n}\nfunction getToken() {\n    return $team().get(\"/api/team/role-bind-token\");\n}\nfunction getRoles(params) {\n    return $team().get(\"/api/team/my-game-roles\", {\n        params: params,\n    });\n}\n\nfunction getAllMyRoles() {\n    return $team().get(`/api/team/my-game-roles?nopage`);\n}\nfunction getHonorApi(eventName, params) {\n    // 0 正确 非0 错误\n    return $team().post(`/api/team/website/events/${eventName}/collect-rewards`, params);\n}\nexport { getTopic, getFbRank, getToken, getHonorApi, getRoles, getAllMyRoles };\n","module.exports = __webpack_public_path__ + \"media/top.c23e849b.mp4\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-index\"},[_c('div',{staticClass:\"m-top\"},[_c('video',{staticClass:\"m-mp4\",attrs:{\"playsinline\":\"\",\"autoplay\":\"\",\"muted\":\"\",\"loop\":\"\",\"poster\":_vm.pic.top},domProps:{\"muted\":true}},[_c('source',{attrs:{\"src\":require(\"./top.mp4\"),\"type\":\"video/mp4\"}})]),_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.pic.logo}}),_c('span',{staticClass:\"m-mark\"})]),_c('div',{staticClass:\"m-content\"},[_c('div',{staticClass:\"m-introduction\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.pic.introduction}})]),_c('div',{staticClass:\"m-one\"},[_c('h2',[_c('img',{attrs:{\"src\":_vm.title[1]}})]),_c('div',{staticClass:\"m-box\"},[_vm._l((_vm.fb),function(item,index){return _c('a',{key:item.id,class:['u-item', `u-item-${index}`],attrs:{\"href\":item.link,\"target\":\"_blank\"}})}),_c('span',{staticClass:\"u-mark\"})],2),_c('div',{staticClass:\"m-txt\"},[_c('img',{attrs:{\"src\":_vm.pic.txt}})])]),_c('div',{staticClass:\"m-two\"},[_c('h2',[_c('img',{attrs:{\"src\":_vm.title[2]}})]),_c('div',{staticClass:\"m-box\"},[_c('el-carousel',{attrs:{\"interval\":4000,\"type\":\"card\",\"height\":\"400px\",\"trigger\":\"click\",\"loop\":\"\",\"autoplay\":false}},_vm._l((_vm.slider),function(item){return _c('el-carousel-item',{key:item.id},[_c('img',{attrs:{\"src\":item.img}})])}),1)],1)]),_c('div',{staticClass:\"m-three\"},[_c('h2',[_c('img',{attrs:{\"src\":_vm.title[3]}})]),_c('div',{staticClass:\"m-box\"},[_c('div',{staticClass:\"m-sect\"},_vm._l((_vm.data.sect),function(item,index){return _c('a',{key:item.id,class:['u-item', `u-item-${index}`],attrs:{\"href\":item.link,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":item.img}})])}),0)])]),_c('div',{staticClass:\"m-four\"},[_c('h2',[_c('img',{attrs:{\"src\":_vm.title[4]}})]),_c('div',{staticClass:\"m-box\"},_vm._l((_vm.play),function(item,index){return _c('a',{key:item.id,class:['u-item', `u-item-${index}`],attrs:{\"href\":item.link,\"target\":\"_blank\"}})}),0)]),_c('div',{staticClass:\"m-five\"},[_c('h2',[_c('img',{attrs:{\"src\":_vm.title[5]}})]),_c('div',{staticClass:\"m-box\"},_vm._l((_vm.data.info),function(item,index){return _c('a',{key:item.id,class:['u-item', `u-item-${index}`],attrs:{\"href\":item.link,\"target\":\"_blank\"}})}),0)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-index\">\n        <div class=\"m-top\">\n            <video class=\"m-mp4\" playsinline=\"\" autoplay=\"\" muted=\"\" loop=\"\" :poster=\"pic.top\">\n                <source src=\"./top.mp4\" type=\"video/mp4\" />\n            </video>\n            <img class=\"logo\" :src=\"pic.logo\" />\n            <span class=\"m-mark\"></span>\n        </div>\n\n        <div class=\"m-content\">\n            <div class=\"m-introduction\">\n                <img class=\"img\" :src=\"pic.introduction\" />\n            </div>\n            <!-- 全新副本 -->\n            <div class=\"m-one\">\n                <h2><img :src=\"title[1]\" /></h2>\n                <div class=\"m-box\">\n                    <a\n                        :class=\"['u-item', `u-item-${index}`]\"\n                        :href=\"item.link\"\n                        target=\"_blank\"\n                        v-for=\"(item, index) in fb\"\n                        :key=\"item.id\"\n                    >\n                    </a>\n                    <span class=\"u-mark\"></span>\n                </div>\n                <div class=\"m-txt\">\n                    <img :src=\"pic.txt\" />\n                </div>\n            </div>\n            <!-- 五大场景 -->\n            <div class=\"m-two\">\n                <h2><img :src=\"title[2]\" /></h2>\n                <div class=\"m-box\">\n                    <el-carousel :interval=\"4000\" type=\"card\" height=\"400px\" trigger=\"click\" loop :autoplay=\"false\">\n                        <el-carousel-item v-for=\"item in slider\" :key=\"item.id\">\n                            <img :src=\"item.img\" />\n                        </el-carousel-item>\n                    </el-carousel>\n                </div>\n            </div>\n            <!-- 全新门派 -->\n            <div class=\"m-three\">\n                <h2><img :src=\"title[3]\" /></h2>\n                <div class=\"m-box\">\n                    <div class=\"m-sect\">\n                        <a\n                            :class=\"['u-item', `u-item-${index}`]\"\n                            :href=\"item.link\"\n                            target=\"_blank\"\n                            v-for=\"(item, index) in data.sect\"\n                            :key=\"item.id\"\n                        >\n                            <img :src=\"item.img\" />\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <!-- 两大玩法 -->\n            <div class=\"m-four\">\n                <h2><img :src=\"title[4]\" /></h2>\n                <div class=\"m-box\">\n                    <a\n                        :href=\"item.link\"\n                        target=\"_blank\"\n                        :class=\"['u-item', `u-item-${index}`]\"\n                        v-for=\"(item, index) in play\"\n                        :key=\"item.id\"\n                    ></a>\n                </div>\n            </div>\n            <!-- 更多资讯 -->\n            <div class=\"m-five\">\n                <h2><img :src=\"title[5]\" /></h2>\n                <div class=\"m-box\">\n                    <a\n                        :class=\"['u-item', `u-item-${index}`]\"\n                        :href=\"item.link\"\n                        target=\"_blank\"\n                        v-for=\"(item, index) in data.info\"\n                        :key=\"item.id\"\n                    ></a>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nconst KEY = \"anshizhiluan\";\nimport { getTopic } from \"@/service/topic\";\nimport { keyBy } from \"lodash\";\nexport default {\n    name: \"Index\",\n    data: function () {\n        return {\n            raw: [],\n            pic: {},\n            title: {},\n            play: {},\n            fb: [],\n            slider: [],\n        };\n    },\n    directives: {\n        animate: {\n            inserted: function (el, binding) {\n                binding.addClass = () => {\n                    const { top } = el.getBoundingClientRect();\n                    const h = document.documentElement.clientHeight || document.body.clientHeight;\n                    if (top < h) {\n                        if (el.className.indexOf(binding.value) == -1) {\n                            // 初次还未绑定过，则新增类名(注意：下面单引号中间是一个空格！！！)\n                            el.className = binding.value + \" \" + el.className;\n                        }\n                        if (binding.addClass) {\n                            window.removeEventListener(\"scroll\", binding.addClass);\n                        }\n                    }\n                };\n                window.addEventListener(\"scroll\", binding.addClass, true);\n                binding.addClass();\n            },\n            unbind: function (el, binding) {\n                if (binding.addClass) {\n                    window.removeEventListener(\"scroll\", binding.addClass);\n                }\n            },\n        },\n    },\n    computed: {\n        data: function (val) {\n            let _data = {};\n            this.raw.forEach((item) => {\n                if (!_data[item.subtype]) {\n                    _data[item.subtype] = [];\n                }\n                _data[item.subtype].push(item);\n            });\n            return _data;\n        },\n    },\n    methods: {\n        init() {\n            getTopic(KEY).then((res) => {\n                this.raw = res.data.data;\n                this.pic = this.changePic(this.data.pic, \"desc\");\n                this.title = this.changePic(this.data.title, \"desc\");\n                this.play = this.data.play;\n                this.slider = this.data.slider;\n                this.fb = this.data.fb;\n\n                console.log(this.play);\n                console.log(this.data, this.pic);\n            });\n        },\n        changePic(arr, key) {\n            const obj = keyBy(arr, key);\n            for (const key in obj) {\n                obj[key] = obj[key].img;\n            }\n            return obj;\n        },\n    },\n    mounted: function () {\n        this.init();\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/css/anshizhiluan/index.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=4f0f6b6b&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=4f0f6b6b&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=style&index=0&id=4f0f6b6b&prod&lang=less&\""],"sourceRoot":""}